(function(e){function t(t){for(var n,c,s=t[0],a=t[1],i=t[2],p=0,d=[];p<s.length;p++)c=s[p],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&d.push(r[c][0]),r[c]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);u&&u(t);while(d.length)d.shift()();return l.push.apply(l,i||[]),o()}function o(){for(var e,t=0;t<l.length;t++){for(var o=l[t],n=!0,s=1;s<o.length;s++){var a=o[s];0!==r[a]&&(n=!1)}n&&(l.splice(t--,1),e=c(c.s=o[0]))}return e}var n={},r={app:0},l=[];function c(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.m=e,c.c=n,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(o,n,function(t){return e[t]}.bind(null,n));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var u=a;l.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"56d7":function(e,t,o){"use strict";o.r(t);var n=o("7a23");const r={dir:"rtl"},l=Object(n["e"])('<option value="262144">256KB</option><option value="524288">512KB</option><option value="1048576">1MB</option><option value="2097152">2MB</option><option value="5242880">5MB</option><option value="10485760">10MB</option>',6),c=[l],s=Object(n["d"])("hr",null,null,-1),a=["value"];function i(e,t,o,l,i,u){return Object(n["h"])(),Object(n["c"])("div",r,[Object(n["d"])("p",null,[Object(n["d"])("label",null,[Object(n["f"])(" تعداد آی پی: "),Object(n["m"])(Object(n["d"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.numIPs=e),type:"number",min:"5",max:"100",style:{width:"100px"}},null,512),[[n["l"],i.numIPs]])])]),Object(n["d"])("p",null,[Object(n["d"])("label",null,[Object(n["f"])(" حجم دانلود برای تست: "),Object(n["m"])(Object(n["d"])("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.downloadSize=e),style:{width:"100px"}},c,512),[[n["k"],i.downloadSize]])])]),Object(n["d"])("p",null,[Object(n["d"])("button",{onClick:t[2]||(t[2]=(...e)=>u.startScan&&u.startScan(...e))},"شروع")]),s,Object(n["d"])("div",null,[(Object(n["h"])(!0),Object(n["c"])(n["a"],null,Object(n["i"])(i.results,e=>(Object(n["h"])(),Object(n["c"])("div",{key:e.ip,style:Object(n["g"])({color:e.color})},[Object(n["d"])("input",{value:e.ip,style:{"font-size":"14px","font-weight":"bold",width:"120px"}},null,8,a),Object(n["f"])(Object(n["j"])(e.speed)+" MB/s. ",1)],4))),128))])])}o("14d9");const u=["173.245.48.0/20","103.21.244.0/22","103.22.200.0/22","103.31.4.0/22","141.101.64.0/18","108.162.192.0/18","190.93.240.0/20","188.114.96.0/20","197.234.240.0/22","198.41.128.0/17","162.158.0.0/15","104.16.0.0/13","104.24.0.0/14","172.64.0.0/13","131.0.72.0/22"];var p={data(){return{numIPs:10,downloadSize:"1048576",results:[]}},methods:{async startScan(){const e=this.downloadSize,t=this.numIPs;let o=[];for(let n of u)o=o.concat(this.cidrToIpArray(n));this.ips=[];for(let n of this.getMultipleRandomElements(o,t)){const t=await this.testIP(n,e);this.results.push({ip:n,speed:t.speed,color:t.color,error:t.error})}},async testIP(e,t,o=5e3){const n="speed.cloudflare.com",r=`https://${n}/__down?bytes=${t}`,l=Date.now(),c=new AbortController,s=c.signal,a=setTimeout(()=>{c.abort()},o),i=new Request(r,{method:"GET",headers:{Host:e,sni:n,servername:n},redirect:"follow",mode:"no-cors"});try{await fetch(i,{signal:s,cf:{sni:n}});const e=Date.now()-l,o=Math.round(t/e/10)/100,r=o<2?"orange":"green";return clearTimeout(a),{speed:o,color:r,error:-1}}catch(u){return clearTimeout(a),"AbortError"===u.name?{speed:-1,color:"red",error:"Timed out"}:{speed:-1,color:"red",error:u.message}}},cidrToIpArray(e){const t=e.split("/"),o=t[0],n=parseInt(t[1],10),r=o.split("."),l=(parseInt(r[0],10)<<24|parseInt(r[1],10)<<16|parseInt(r[2],10)<<8|parseInt(r[3],10))>>>0,c=(l|4294967295>>>n)>>>0,s=[];for(let a=l;a<=c;a++){const e=a>>24&255,t=a>>16&255,o=a>>8&255,n=255&a;s.push(`${e}.${t}.${o}.${n}`)}return s},getMultipleRandomElements(e,t){var o=[...e].sort(()=>.5-Math.random());return o.slice(0,t)}}},d=o("6b0d"),b=o.n(d);const f=b()(p,[["render",i]]);var h=f;Object(n["b"])(h).mount("#app")}});
//# sourceMappingURL=app.d1912d2f.js.map